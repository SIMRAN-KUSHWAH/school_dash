"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[874],{4874:function(e,t,l){l.r(t);var s=l(3433),r=l(4942),n=l(1413),a=l(4165),i=l(5861),d=l(9439),o=l(7313),c=l(6573),u=l(6417),p={form:{display:"flex",flexDirection:"column",width:"100%",borderTop:"1px solid lightGrey",padding:"20px"},fieldGroup:{marginBottom:"1rem"},label:{fontWeight:"bold",marginBottom:"0.5rem"},input:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},button:{marginTop:"1rem",padding:"8px 12px",backgroundColor:"#f50057",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",width:"250px",margin:"7px"},updateButton:{marginTop:"1rem",padding:"8px 12px",backgroundColor:"#f50057",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",width:"250px",margin:"7px"},table:{marginTop:"1rem",borderCollapse:"collapse",width:"100%",border:"1px solid #ccc"},tableRow:{border:"1px solid #ccc"},tableHeader:{backgroundColor:"#87bdd8",color:"white",padding:"8px",textAlign:"left"},tableCell:{padding:"8px"},editButton:{backgroundColor:"#2196f3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"5px"},deleteButton:{backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},error:{color:"red",fontSize:"0.8rem"}};t.default=function(){var e=(0,o.useState)([]),t=(0,d.Z)(e,2),l=t[0],x=t[1],h=(0,o.useState)({subject:"",class:"",date:"",startTime:"",endTime:"",venue:""}),b=(0,d.Z)(h,2),j=b[0],m=b[1],v=(0,o.useState)(null),y=(0,d.Z)(v,2),f=y[0],C=y[1],g=(0,o.useState)({}),T=(0,d.Z)(g,2),k=T[0],w=T[1];(0,o.useEffect)((function(){Z()}),[]);var Z=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("http://server3.khaugalli.info/api/exam/get");case 3:t=e.sent,x(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){m((0,n.Z)((0,n.Z)({},j),{},(0,r.Z)({},e.target.name,e.target.value)))},E=function(){var e=!0,t={};return j.subject||(t.subject="Subject is required",e=!1),j.class||(t.class="Class is required",e=!1),j.date||(t.date="Date is required",e=!1),j.startTime||(t.startTime="Start time is required",e=!1),j.endTime||(t.endTime="End time is required",e=!1),j.venue||(t.venue="Venue is required",e=!1),w(t),e},G=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=l[t]._id,e.next=4,c.Z.delete("http://server3.khaugalli.info/api/exam/".concat(r));case 4:alert("Exam deleted successfully"),(n=(0,s.Z)(l)).splice(t,1),x(n),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message),alert("Failed to delete exam");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){var s,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E()){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,null===f){e.next=14;break}return s=l[f]._id,delete(r=(0,n.Z)({},j))._id,e.next=10,c.Z.put("http://server3.khaugalli.info/api/exam/".concat(s),r);case 10:alert("Exam updated successfully"),C(null),e.next=17;break;case 14:return e.next=16,c.Z.post("http://server3.khaugalli.info/api/exam",j);case 16:alert("Exam time table added successfully");case 17:m({subject:"",class:"",date:"",startTime:"",endTime:"",venue:""}),Z(),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.error(e.t0.message),alert("Failed to add/update exam time table");case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{style:{marginTop:"90px"},children:[(0,u.jsx)("h2",{children:"Add Exam Time Table"}),(0,u.jsxs)("form",{style:p.form,onSubmit:H,children:[(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,u.jsxs)("div",{style:{padding:10},children:[(0,u.jsxs)("div",{style:p.fieldGroup,children:[(0,u.jsxs)("label",{style:p.label,children:["Subject:",(0,u.jsxs)("select",{name:"subject",value:j.subject,onChange:S,style:p.input,children:[(0,u.jsx)("option",{value:"",children:"Select Subject"}),(0,u.jsx)("option",{value:"Math",children:"Math"}),(0,u.jsx)("option",{value:"Science",children:"Science"}),(0,u.jsx)("option",{value:"History",children:"History"}),(0,u.jsx)("option",{value:"Hindi",children:"Hindi"}),(0,u.jsx)("option",{value:"Sanskrit",children:"Sanskrit"}),(0,u.jsx)("option",{value:"General Knowledge",children:"General Knowledge"}),(0,u.jsx)("option",{value:"Computer",children:"Computer"}),(0,u.jsx)("option",{value:"Geography",children:"Geography"}),(0,u.jsx)("option",{value:"English",children:"English"})]})]}),k.subject&&(0,u.jsx)("span",{style:p.error,children:k.subject})]}),(0,u.jsxs)("div",{style:p.fieldGroup,children:[(0,u.jsxs)("label",{style:p.label,children:["Class:",(0,u.jsxs)("select",{name:"class",value:j.class,onChange:S,style:p.input,children:[(0,u.jsx)("option",{value:"",children:"Select Class"}),(0,u.jsx)("option",{value:"All Classes 1-10",children:"All Classes 1-10"}),(0,u.jsx)("option",{value:"Class 1",children:"Class 1"}),(0,u.jsx)("option",{value:"Class 2",children:"Class 2"}),(0,u.jsx)("option",{value:"Class 3",children:"Class 3"}),(0,u.jsx)("option",{value:"Class 4",children:"Class 4"}),(0,u.jsx)("option",{value:"Class 5",children:"Class 5"}),(0,u.jsx)("option",{value:"Class 6",children:"Class 6"}),(0,u.jsx)("option",{value:"Class 7",children:"Class 7"}),(0,u.jsx)("option",{value:"Class 8",children:"Class 8"}),(0,u.jsx)("option",{value:"Class 9",children:"Class 9"}),(0,u.jsx)("option",{value:"Class 10",children:"Class 10"})]})]}),k.class&&(0,u.jsx)("span",{style:p.error,children:k.class})]})]}),(0,u.jsxs)("div",{style:{padding:10},children:[(0,u.jsxs)("div",{style:p.fieldGroup,children:[(0,u.jsxs)("label",{style:p.label,children:["Date:",(0,u.jsx)("input",{type:"date",name:"date",value:j.date,onChange:S,style:p.input})]}),k.date&&(0,u.jsx)("span",{style:p.error,children:k.date})]}),(0,u.jsxs)("div",{style:p.fieldGroup,children:[(0,u.jsxs)("label",{style:p.label,children:["Start Time:",(0,u.jsx)("input",{type:"time",name:"startTime",value:j.startTime,onChange:S,style:p.input})]}),k.startTime&&(0,u.jsx)("span",{style:p.error,children:k.startTime})]})]}),(0,u.jsxs)("div",{style:{padding:10},children:[(0,u.jsxs)("div",{style:p.fieldGroup,children:[(0,u.jsxs)("label",{style:p.label,children:["End Time:",(0,u.jsx)("input",{type:"time",name:"endTime",value:j.endTime,onChange:S,style:p.input})]}),k.endTime&&(0,u.jsx)("span",{style:p.error,children:k.endTime})]}),(0,u.jsxs)("div",{style:p.fieldGroup,children:[(0,u.jsxs)("label",{style:p.label,children:["Venue:",(0,u.jsx)("input",{type:"text",name:"venue",value:j.venue,onChange:S,style:p.input})]}),k.venue&&(0,u.jsx)("span",{style:p.error,children:k.venue})]})]})]}),(0,u.jsx)("button",{type:"submit",style:null!==f?p.updateButton:p.button,children:null!==f?"Update":"Submit"})]}),(0,u.jsx)("hr",{}),(0,u.jsx)("h3",{children:"Exam Time Table Data"}),l.length>0?(0,u.jsx)("div",{children:(0,u.jsxs)("table",{style:p.table,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{style:p.tableHeader,children:"Subject"}),(0,u.jsx)("th",{style:p.tableHeader,children:"Class"}),(0,u.jsx)("th",{style:p.tableHeader,children:"Date"}),(0,u.jsx)("th",{style:p.tableHeader,children:"Start Time"}),(0,u.jsx)("th",{style:p.tableHeader,children:"End Time"}),(0,u.jsx)("th",{style:p.tableHeader,children:"Venue"}),(0,u.jsx)("th",{style:p.tableHeader,children:"Actions"})]})}),(0,u.jsx)("tbody",{children:l.map((function(e,t){return(0,u.jsxs)("tr",{style:p.tableRow,children:[(0,u.jsx)("td",{style:p.tableCell,children:e.subject}),(0,u.jsx)("td",{style:p.tableCell,children:e.class}),(0,u.jsx)("td",{style:p.tableCell,children:e.date}),(0,u.jsx)("td",{style:p.tableCell,children:e.startTime}),(0,u.jsx)("td",{style:p.tableCell,children:e.endTime}),(0,u.jsx)("td",{style:p.tableCell,children:e.venue}),(0,u.jsxs)("td",{style:p.tableCell,children:[(0,u.jsx)("button",{style:p.editButton,onClick:function(){return function(e){C(e);var t=l[e];m({subject:t.subject,class:t.class,date:t.date,startTime:t.startTime,endTime:t.endTime,venue:t.venue}),w({})}(t)},children:"Edit"}),(0,u.jsx)("button",{style:p.deleteButton,onClick:function(){return G(t)},children:"Delete"})]})]},t)}))})]})}):(0,u.jsx)("p",{children:"No exam time table data available"})]})}}}]);