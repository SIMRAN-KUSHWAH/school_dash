"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[563],{2563:function(e,t,n){n.r(t);var r=n(4165),s=n(5861),l=n(9439),a=n(7313),o=n(6573),c=n(6417),i={container:{marginTop:"80px",padding:"5px",backgroundColor:"white"},header:{alignItems:"center",padding:"10px",borderBottom:"1px solid #ccc"},headerText:{fontSize:"20px",fontWeight:"bold"},table:{width:"100%",borderCollapse:"collapse",border:"1px solid #ccc"},cell:{padding:"10px",textAlign:"center"},userMessage:{backgroundColor:"#ffcc5c",justifyContent:"center",alignItems:"center",textAlign:"center"},botMessage:{backgroundColor:"#405d27",justifyContent:"center",alignItems:"center",textAlign:"center"},deleteButton:{backgroundColor:"#f44336",color:"#fff",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"12px",cursor:"pointer"},inputArea:{display:"flex",alignItems:"center",borderTop:"1px solid #ccc",padding:"8px"},input:{flex:"1",borderWidth:"1px",borderColor:"#ccc",borderRadius:"8px",padding:"8px",marginRight:"8px"},sendButton:{backgroundColor:"#007BFF",padding:"8px 16px",borderRadius:"8px",color:"#fff",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},sendButtonText:{color:"#fff"}};t.default=function(){var e=(0,a.useState)(""),t=(0,l.Z)(e,2),n=(t[0],t[1],(0,a.useState)([])),d=(0,l.Z)(n,2),u=d[0],p=d[1],x=(0,a.useState)(1),h=(0,l.Z)(x,2),f=h[0],g=h[1];(0,a.useRef)(null);(0,a.useEffect)((function(){b()}),[]);var b=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.get("http://server3.khaugalli.info/api/messages");case 3:t=e.sent,p(t.data.reverse()),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch messages:",e.t0),alert("Failed to fetch messages. Please try again.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.Z.delete("http://server3.khaugalli.info/api/messages/".concat(t));case 3:b(),alert("Deleted Successfully."),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to delete message:",e.t0),alert("Failed to delete message. Please try again.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=8*f,y=m-8,k=u.slice(y,m);return(0,c.jsxs)("div",{style:i.container,children:[(0,c.jsx)("div",{style:i.header,children:(0,c.jsx)("h1",{style:i.headerText,children:"Doubt Box"})}),(0,c.jsxs)("table",{style:i.table,children:[(0,c.jsx)("thead",{style:{height:"30px",backgroundColor:"#f50057",color:"white"},children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:"Message"}),(0,c.jsx)("th",{children:"User Name"}),(0,c.jsx)("th",{children:"Date"}),(0,c.jsx)("th",{children:"Time"}),(0,c.jsx)("th",{children:"Action"})]})}),(0,c.jsx)("tbody",{children:k.map((function(e){return(0,c.jsxs)("tr",{className:e.isUser?i.userMessage:i.botMessage,children:[(0,c.jsx)("td",{style:i.cell,children:e.text}),(0,c.jsx)("td",{style:i.cell,children:e.isUser}),(0,c.jsx)("td",{style:i.cell,children:new Date(e.date).toLocaleDateString()}),(0,c.jsx)("td",{style:i.cell,children:e.time}),(0,c.jsx)("td",{style:i.cell,children:(0,c.jsx)("button",{className:i.deleteButton,onClick:function(){return j(e._id)},children:"Delete"})})]},e.id)}))})]}),(0,c.jsxs)("div",{style:i.paginationControls,children:[f>1&&(0,c.jsx)("button1",{className:i.paginationButton,onClick:function(){return g(f-1)},children:"Previous"}),(0,c.jsxs)("span",{style:{color:"red",padding:"10px"},children:["Page ",f]}),(0,c.jsx)("button1",{className:i.paginationButton,onClick:function(){return g(f+1)},children:"Next"})]})]})}}}]);