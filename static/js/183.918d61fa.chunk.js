"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[183],{9183:function(e,t,r){r.r(t);var n=r(4165),s=r(5861),a=r(9439),i=r(7313),l=r(6573),o=r(6417),c={container:{flexDirection:"column",alignItems:"center",padding:"20px",marginTop:"70px"},input:{width:"200px",padding:"8px",marginBottom:"10px",border:"1px solid #ccc",borderRadius:"4px"},button:{marginTop:"20px",backgroundColor:"#f50057",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",width:"90px",height:"40px"},table:{borderCollapse:"collapse",width:"100%"},th:{backgroundColor:"#87bdd8",color:"white",padding:"8px",textAlign:"left",border:"1px solid #ccc"},td:{border:"1px solid #ccc",padding:"8px"},actionButton:{padding:"4px 8px",backgroundColor:"red",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"4px"},actionButton2:{padding:"4px 8px",backgroundColor:"green",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"4px"},form:{display:"flex",flexDirection:"row"}};t.default=function(){var e=(0,i.useState)(""),t=(0,a.Z)(e,2),r=t[0],u=t[1],d=(0,i.useState)(""),p=(0,a.Z)(d,2),h=p[0],x=p[1],f=(0,i.useState)(""),j=(0,a.Z)(f,2),b=j[0],y=j[1],g=(0,i.useState)(""),m=(0,a.Z)(g,2),v=m[0],w=m[1],k=(0,i.useState)([]),Z=(0,a.Z)(k,2),C=Z[0],S=Z[1],T=(0,i.useState)(null),I=(0,a.Z)(T,2),B=I[0],R=I[1],U=(0,i.useState)(""),D=(0,a.Z)(U,2),E=D[0],_=D[1];(0,i.useEffect)((function(){z()}),[]);var z=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("http://server3.khaugalli.info/api/user/get");case 3:t=e.sent,S(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!B){e.next=9;break}return e.next=5,l.Z.put("http://server3.khaugalli.info/api/user/".concat(B._id),{name:r,userId:h,email:b,password:v,type:E});case 5:R(null),alert("User updated successfully"),e.next=12;break;case 9:return e.next=11,l.Z.post("http://server3.khaugalli.info/api/register",{name:r,userId:h,email:b,password:v,type:E});case 11:alert("User created successfully");case 12:z(),u(""),x(""),y(""),w(""),_(""),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(1),console.error(e.t0.message),alert("Failed to perform the operation");case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.delete("http://server3.khaugalli.info/api/user/".concat(t));case 3:z(),alert("User deleted successfully"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message),alert("Failed to delete user");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,o.jsxs)("div",{style:c.container,children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"Create User"}),(0,o.jsxs)("form",{onSubmit:A,style:c.form,children:[(0,o.jsxs)("label",{children:["Name:",(0,o.jsx)("input",{type:"text",value:r,onChange:function(e){return u(e.target.value)},style:c.input})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("label",{children:["userId:",(0,o.jsx)("input",{type:"text",value:h,onChange:function(e){return x(e.target.value)},style:c.input})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("label",{children:["Email:",(0,o.jsx)("input",{type:"email",value:b,onChange:function(e){return y(e.target.value)},style:c.input})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("label",{children:["Type:",(0,o.jsxs)("select",{value:E,onChange:function(e){return _(e.target.value)},style:c.input,children:[(0,o.jsx)("option",{value:"",children:"Select Type"}),(0,o.jsx)("option",{value:"Teacher",children:"Teacher"}),(0,o.jsx)("option",{value:"Student",children:"Student"}),(0,o.jsx)("option",{value:"Staff",children:"Other Staff"})]})]}),(0,o.jsx)("br",{}),(0,o.jsxs)("label",{children:["Password:",(0,o.jsx)("input",{type:"password",value:v,onChange:function(e){return w(e.target.value)},style:c.input})]}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{type:"submit",style:c.button,children:B?"Update":"Create"})]})]}),(0,o.jsx)("hr",{style:{marginTop:"40px",marginBottom:"30px"}}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"User List"}),(0,o.jsxs)("table",{style:c.table,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{style:c.th,children:"Name"}),(0,o.jsx)("th",{style:c.th,children:"userId"}),(0,o.jsx)("th",{style:c.th,children:"Email"}),(0,o.jsx)("th",{style:c.th,children:"Type"}),(0,o.jsx)("th",{style:c.th,children:"Password"}),(0,o.jsx)("th",{style:c.th,children:"Actions"})]})}),(0,o.jsx)("tbody",{children:C.map((function(e){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:c.td,children:e.name}),(0,o.jsx)("td",{style:c.td,children:e.userId}),(0,o.jsx)("td",{style:c.td,children:e.email}),(0,o.jsx)("td",{style:c.td,children:e.type}),(0,o.jsx)("td",{style:c.td,children:e.password}),(0,o.jsxs)("td",{style:c.td,children:[(0,o.jsx)("button",{onClick:function(){return F(e._id)},style:c.actionButton,children:"Delete"}),(0,o.jsx)("button",{onClick:function(){return function(e){R(e),u(e.name),x(e.userId),y(e.email),w(e.password)}(e)},style:c.actionButton2,children:"Edit"})]})]},e._id)}))})]})]})]})}}}]);